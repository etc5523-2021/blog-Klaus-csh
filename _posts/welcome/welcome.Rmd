---
title: "COVID 19 in Canada"
description: |
  This is an article about the situation of the new coronavirus in Canada
author:
  - name: Shaohu Chen 
    url: https://example.com/norajones
date: 08-29-2021
output:
  distill::distill_article:
    self_contained: false
---

```{r setup, include=FALSE, message=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      cache=TRUE, 
                      message =FALSE, 
                      warning=FALSE, 
                      fig.align = 'center')
library(tidyverse)
library(readxl)
options(scipen=200)

data <- read_xls("data/owid-covid-data.xls")


```


```{r}
vaccination <- data %>% 
  select(c(date, total_vaccinations:new_vaccinations_smoothed_per_million, -c(total_boosters_per_hundred,total_boosters))) %>% 
  mutate(date = as.Date(date))

case <- data %>% 
  select(date:new_cases,reproduction_rate) %>% 
  mutate(date = as.Date(date)) %>% 
  pivot_longer(cols = total_cases : new_cases,
               names_to = "cases",
               values_to = "count")

vaccination_num <-vaccination %>% 
  pivot_longer(cols = total_vaccinations : people_fully_vaccinated,
               names_to = "vaccinations",
               values_to = "count")
```


```{r}
ggplot(vaccination_num, aes(x= date,y=count/1000000, color=vaccinations))+ 
  geom_line(position="stack")+
  theme_bw() +
  ylab("Count (million)")
```

